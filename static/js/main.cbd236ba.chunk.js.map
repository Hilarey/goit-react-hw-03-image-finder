{"version":3,"sources":["components/Modal/Modal.module.css","components/ImageGalleryItem/ImageGalleryItem.module.css","components/LoadMore/LoadMore.module.css","components/Layout/Layout.js","components/SearchBar/SearchBar.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Modal/Modal.js","components/LoadMore/LoadMore.js","services/cardsApi.js","services/scrollTo.js","components/App.js","index.js","components/SearchBar/SearchBar.module.css","components/ImageGallery/ImageGallery.module.css"],"names":["module","exports","Layout","children","className","SearchBar","state","query","handleChange","e","setState","target","value","handleSubmit","preventDefault","props","onSubmit","this","styles","searchBar","searchForm","type","searchFormButton","searchFormButtonLabel","searchFormInput","autoComplete","autoFocus","placeholder","onChange","Component","ImageGalleryItem","webformatURL","tags","onLargeImage","id","src","alt","imageGalleryItemImage","onClick","ImageGallery","cards","imageGallery","map","key","imageGalleryItem","Modal","overleyRef","createRef","handleKeyDown","code","onClose","handleOverleyClick","current","window","addEventListener","removeEventListener","overlay","ref","modal","LoadMore","button","searchQuery","pageNumber","axios","get","then","response","data","hits","scrollTo","scroll","top","document","documentElement","scrollHeight","behavior","App","loading","error","page","showModal","largeImage","fetchCards","cardsApi","prevState","catch","finally","handleSearchFormSubmit","toggleModal","choosePhoto","find","item","largeImageURL","prevProps","message","length","color","height","width","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.cbd236ba.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Modal_overlay__-dBzm\",\"modal\":\"Modal_modal__2HlXq\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"imageGalleryItemImage\":\"ImageGalleryItem_imageGalleryItemImage__xIAkj\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"LoadMore_button__2TXla\"};","import React from \"react\";\nimport \"./Layout.css\";\n\nconst Layout = ({ children }) => <div className=\"Layout\">{children}</div>;\n\nexport default Layout;\n","import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport styles from \"./SearchBar.module.css\";\n\nexport default class SearchBar extends Component {\n  static propTypes = {\n    onSubmit: PropTypes.func.isRequired\n  };\n\n  state = {\n    query: \"\"\n  };\n\n  handleChange = e => {\n    this.setState({ query: e.target.value });\n  };\n\n  handleSubmit = e => {\n    e.preventDefault();\n\n    this.props.onSubmit(this.state.query);\n\n    this.setState({ query: \"\" });\n  };\n\n  render() {\n    const { query } = this.state;\n    return (\n      <header className={styles.searchBar}>\n        <form className={styles.searchForm} onSubmit={this.handleSubmit}>\n          <button type=\"submit\" className={styles.searchFormButton}>\n            <span className={styles.searchFormButtonLabel}>Search</span>\n          </button>\n          <input\n            className={styles.searchFormInput}\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n            value={query}\n            onChange={this.handleChange}\n          />\n        </form>\n      </header>\n    );\n  }\n}\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport styles from \"./ImageGalleryItem.module.css\";\n\nconst ImageGalleryItem = ({ webformatURL, tags, onLargeImage, id }) => (\n  <img\n    src={webformatURL}\n    alt={tags}\n    className={styles.imageGalleryItemImage}\n    onClick={() => {\n      onLargeImage(id);\n    }}\n  />\n);\n\nImageGalleryItem.propTypes = {\n  webformatURL: PropTypes.string.isRequired,\n  tags: PropTypes.string.isRequired,\n  onLargeImage: PropTypes.func.isRequired,\n  id: PropTypes.number.isRequired\n};\n\nexport default ImageGalleryItem;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport ImageGalleryItem from \"../ImageGalleryItem/ImageGalleryItem\";\nimport styles from \"./ImageGallery.module.css\";\n\nconst ImageGallery = ({ cards, onLargeImage }) => (\n  <ul className={styles.imageGallery}>\n    {cards.map(({ id, webformatURL, tags }) => (\n      <li key={id} className={styles.imageGalleryItem}>\n        <ImageGalleryItem\n          id={id}\n          webformatURL={webformatURL}\n          tags={tags}\n          onLargeImage={onLargeImage}\n        />\n      </li>\n    ))}\n  </ul>\n);\n\nImageGallery.propTypes = {\n  cards: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number.isRequired,\n      webformatURL: PropTypes.string.isRequired,\n      tags: PropTypes.string.isRequired\n    }).isRequired\n  ).isRequired\n};\n\nexport default ImageGallery;\n","import React, { Component, createRef } from \"react\";\nimport PropTypes from \"prop-types\";\nimport styles from \"./Modal.module.css\";\n\nexport default class Modal extends Component {\n  static propTypes = {\n    src: PropTypes.string.isRequired,\n    onClose: PropTypes.func.isRequired\n  };\n\n  overleyRef = createRef();\n\n  componentDidMount() {\n    window.addEventListener(\"keydown\", this.handleKeyDown);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener(\"keydown\", this.handleKeyDown);\n  }\n\n  handleKeyDown = e => {\n    if (e.code === \"Escape\") {\n      this.props.onClose();\n    }\n  };\n\n  handleOverleyClick = e => {\n    const { current } = this.overleyRef;\n    if (current && e.target !== current) {\n      return;\n    }\n    this.props.onClose();\n  };\n\n  render() {\n    const { src } = this.props;\n    return (\n      <div\n        className={styles.overlay}\n        ref={this.overleyRef}\n        onClick={this.handleOverleyClick}\n      >\n        <div className={styles.modal}>\n          <img src={src} alt=\"LargePhoto\" />\n        </div>\n      </div>\n    );\n  }\n}\n","import React from \"react\";\nimport PropTypes from 'prop-types';\nimport styles from './LoadMore.module.css';\n\nconst LoadMore = ({ onClick }) => (\n  <button type=\"button\" className={styles.button} onClick={onClick}>\n    LoadMore\n  </button>\n);\n\nLoadMore.propTypes = {\n  onClick: PropTypes.func.isRequired\n};\n\nexport default LoadMore;\n","import axios from 'axios';\n\nconst fetchCardsWithQuery = (searchQuery, pageNumber = 1) => {\n  return axios\n    .get(\n      `https://pixabay.com/api/?q=${searchQuery}&page=${pageNumber}&key=15396872-c9327f1987334023142d3e162&image_type=photo&orientation=horizontal&per_page=12`,\n    )\n    .then(response => response.data.hits);\n};\n\nexport default {\n  fetchCardsWithQuery,\n};","const scrollTo = () => {\n  const height = document.documentElement.scrollHeight;\n  const scroll = {\n    top: height,\n    behavior: \"smooth\"\n  };\n\n  window.scrollTo(scroll);\n};\n\nexport default scrollTo;","import React, { Component } from \"react\";\nimport Loader from \"react-loader-spinner\";\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\nimport Layout from \"./Layout/Layout\";\nimport SearchBar from \"./SearchBar/SearchBar\";\nimport ImageGallery from \"./ImageGallery/ImageGallery\";\nimport Modal from \"./Modal/Modal\";\nimport LoadMore from \"./LoadMore/LoadMore\";\nimport cardsApi from \"../services/cardsApi\";\nimport scrollTo from \"../services/scrollTo\";\n\nexport default class App extends Component {\n  state = {\n    cards: [],\n    loading: false,\n    error: null,\n    searchQuery: \"\",\n    page: 1,\n    showModal: false,\n    largeImage: null\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    const prevQuery = prevState.searchQuery;\n    const nextQuery = this.state.searchQuery;\n\n    if (prevQuery !== nextQuery) {\n      this.fetchCards();\n    }\n  }\n\n  fetchCards = () => {\n    const { searchQuery, page } = this.state;\n    this.setState({ loading: true });\n\n    cardsApi\n      .fetchCardsWithQuery(searchQuery, page)\n      .then(cards =>\n        this.setState(prevState => ({\n          cards: [...prevState.cards, ...cards],\n          page: prevState.page + 1\n        }))\n      )\n      .catch(error => this.setState({ error }))\n      .finally(() => this.setState({ loading: false }, scrollTo));\n  };\n\n  handleSearchFormSubmit = query => {\n    this.setState({\n      searchQuery: query,\n      page: 1,\n      cards: []\n    });\n  };\n\n  toggleModal = () => {\n    this.setState(state => ({ showModal: !state.showModal }));\n  };\n\n  // второй метод\n  // webformatURL - ссылка на маленькое изображение для списка карточек\n  // largeImageURL - ссылка на большое изображение для модального окна\n  // onLargeImage = largeImgUrl => {\n  //   this.setState({ largeImage: largeImgUrl });\n  //   this.toggleModal();\n  // };\n\n  onLargeImage = e => {\n    const choosePhoto = this.state.cards.find(item => item.id === e);\n    if (choosePhoto) {\n      this.setState({ largeImage: choosePhoto.largeImageURL }, this.toggleModal);\n    }\n  };\n\n  render() {\n    const { cards, loading, error, showModal, largeImage } = this.state;\n\n    return (\n      <Layout>\n        <SearchBar onSubmit={this.handleSearchFormSubmit} />\n        {error && <p>Whoops, something went wrong: {error.message}</p>}\n        {cards.length > 0 && (\n          <ImageGallery cards={cards} onLargeImage={this.onLargeImage} />\n        )}\n        {loading && (\n          <Loader type=\"Puff\" color=\"#00BFFF\" height={50} width={50} />\n        )}\n        {cards.length > 0 && !loading && <LoadMore onClick={this.fetchCards} />}\n        {showModal && <Modal src={largeImage} onClose={this.toggleModal} />}\n      </Layout>\n    );\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App';\n\n\nReactDOM.render(<App />, document.getElementById('root'));","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchBar\":\"SearchBar_searchBar__26ml_\",\"searchForm\":\"SearchBar_searchForm__oa9Y3\",\"searchFormButton\":\"SearchBar_searchFormButton__1gG7o\",\"searchFormButtonLabel\":\"SearchBar_searchFormButtonLabel__2gAbN\",\"searchFormInput\":\"SearchBar_searchFormInput__3uvky\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"imageGallery\":\"ImageGallery_imageGallery__29MyW\",\"imageGalleryItem\":\"ImageGallery_imageGalleryItem__11LhI\"};"],"sourceRoot":""}