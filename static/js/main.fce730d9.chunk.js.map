{"version":3,"sources":["components/Modal/Modal.module.css","components/ImageGalleryItem/ImageGalleryItem.module.css","components/LoadMore/LoadMore.module.css","components/Layout/Layout.js","components/SearchBar/SearchBar.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Modal/Modal.js","components/LoadMore/LoadMore.js","services/cardsApi.js","services/scrollTo.js","components/App.js","index.js","components/SearchBar/SearchBar.module.css","components/ImageGallery/ImageGallery.module.css"],"names":["module","exports","Layout","children","className","SearchBar","state","query","handleChange","e","setState","target","value","handleSubmit","preventDefault","props","onSubmit","this","styles","searchBar","searchForm","type","searchFormButton","searchFormButtonLabel","searchFormInput","autoComplete","autoFocus","placeholder","onChange","Component","ImageGalleryItem","webformatURL","tags","onLargeImage","largeImageURL","src","alt","imageGalleryItemImage","onClick","ImageGallery","cards","imageGallery","map","id","key","imageGalleryItem","Modal","overleyRef","createRef","handleKeyDown","code","onClose","handleOverleyClick","current","window","addEventListener","removeEventListener","overlay","ref","modal","LoadMore","button","searchQuery","pageNumber","axios","get","then","response","data","hits","scrollTo","scroll","top","document","documentElement","scrollHeight","behavior","App","loading","error","page","largeImage","fetchCards","cardsApi","prevState","catch","finally","handleSearchFormSubmit","unsetLargeImageUrl","prevProps","message","length","color","height","width","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.fce730d9.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Modal_overlay__-dBzm\",\"modal\":\"Modal_modal__2HlXq\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"imageGalleryItemImage\":\"ImageGalleryItem_imageGalleryItemImage__xIAkj\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"LoadMore_button__2TXla\"};","import React from \"react\";\nimport \"./Layout.css\";\n\nconst Layout = ({ children }) => <div className=\"Layout\">{children}</div>;\n\nexport default Layout;\n","import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport styles from \"./SearchBar.module.css\";\n\nexport default class SearchBar extends Component {\n  static propTypes = {\n    onSubmit: PropTypes.func.isRequired\n  };\n\n  state = {\n    query: \"\"\n  };\n\n  handleChange = e => {\n    this.setState({ query: e.target.value });\n  };\n\n  handleSubmit = e => {\n    e.preventDefault();\n\n    this.props.onSubmit(this.state.query);\n\n    this.setState({ query: \"\" });\n  };\n\n  render() {\n    const { query } = this.state;\n    return (\n      <header className={styles.searchBar}>\n        <form className={styles.searchForm} onSubmit={this.handleSubmit}>\n          <button type=\"submit\" className={styles.searchFormButton}>\n            <span className={styles.searchFormButtonLabel}>Search</span>\n          </button>\n          <input\n            className={styles.searchFormInput}\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n            value={query}\n            onChange={this.handleChange}\n          />\n        </form>\n      </header>\n    );\n  }\n}\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport styles from \"./ImageGalleryItem.module.css\";\n\nconst ImageGalleryItem = ({ webformatURL, tags, onLargeImage, largeImageURL }) => (\n  <img\n    src={webformatURL}\n    alt={tags}\n    className={styles.imageGalleryItemImage}\n    onClick={() => {\n      onLargeImage(largeImageURL);\n    }}\n  />\n);\n\nImageGalleryItem.propTypes = {\n  webformatURL: PropTypes.string.isRequired,\n  tags: PropTypes.string.isRequired,\n  onLargeImage: PropTypes.func.isRequired,\n  id: PropTypes.number.isRequired\n};\n\nexport default ImageGalleryItem;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport ImageGalleryItem from \"../ImageGalleryItem/ImageGalleryItem\";\nimport styles from \"./ImageGallery.module.css\";\n\nconst ImageGallery = ({ cards, onLargeImage }) => (\n  <ul className={styles.imageGallery}>\n    {cards.map(({ id, webformatURL, tags, largeImageURL }) => (\n      <li key={id} className={styles.imageGalleryItem}>\n        <ImageGalleryItem\n          id={id}\n          webformatURL={webformatURL}\n          tags={tags}\n          onLargeImage={onLargeImage}\n          largeImageURL={largeImageURL}\n        />\n      </li>\n    ))}\n  </ul>\n);\n\nImageGallery.propTypes = {\n  cards: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number.isRequired,\n      webformatURL: PropTypes.string.isRequired,\n      tags: PropTypes.string.isRequired\n    }).isRequired\n  ).isRequired\n};\n\nexport default ImageGallery;\n","import React, { Component, createRef } from \"react\";\nimport PropTypes from \"prop-types\";\nimport styles from \"./Modal.module.css\";\n\nexport default class Modal extends Component {\n  static propTypes = {\n    src: PropTypes.string.isRequired,\n    onClose: PropTypes.func.isRequired\n  };\n\n  overleyRef = createRef();\n\n  componentDidMount() {\n    window.addEventListener(\"keydown\", this.handleKeyDown);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener(\"keydown\", this.handleKeyDown);\n  }\n\n  handleKeyDown = e => {\n    if (e.code === \"Escape\") {\n      this.props.onClose();\n    }\n  };\n\n  handleOverleyClick = e => {\n    const { current } = this.overleyRef;\n    if (current && e.target !== current) {\n      return;\n    }\n    this.props.onClose();\n  };\n\n  render() {\n    const { src } = this.props;\n    return (\n      <div\n        className={styles.overlay}\n        ref={this.overleyRef}\n        onClick={this.handleOverleyClick}\n      >\n        <div className={styles.modal}>\n          <img src={src} alt=\"LargePhoto\" />\n        </div>\n      </div>\n    );\n  }\n}\n","import React from \"react\";\nimport PropTypes from 'prop-types';\nimport styles from './LoadMore.module.css';\n\nconst LoadMore = ({ onClick }) => (\n  <button type=\"button\" className={styles.button} onClick={onClick}>\n    LoadMore\n  </button>\n);\n\nLoadMore.propTypes = {\n  onClick: PropTypes.func.isRequired\n};\n\nexport default LoadMore;\n","import axios from 'axios';\n\nconst fetchCardsWithQuery = (searchQuery, pageNumber = 1) => {\n  return axios\n    .get(\n      `https://pixabay.com/api/?q=${searchQuery}&page=${pageNumber}&key=15396872-c9327f1987334023142d3e162&image_type=photo&orientation=horizontal&per_page=12`,\n    )\n    .then(response => response.data.hits);\n};\n\nexport default {\n  fetchCardsWithQuery,\n};","const scrollTo = () => {\n  const height = document.documentElement.scrollHeight;\n  const scroll = {\n    top: height,\n    behavior: \"smooth\"\n  };\n\n  window.scrollTo(scroll);\n};\n\nexport default scrollTo;","import React, { Component } from \"react\";\nimport Loader from \"react-loader-spinner\";\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\nimport Layout from \"./Layout/Layout\";\nimport SearchBar from \"./SearchBar/SearchBar\";\nimport ImageGallery from \"./ImageGallery/ImageGallery\";\nimport Modal from \"./Modal/Modal\";\nimport LoadMore from \"./LoadMore/LoadMore\";\nimport cardsApi from \"../services/cardsApi\";\nimport scrollTo from \"../services/scrollTo\";\n\nexport default class App extends Component {\n  state = {\n    cards: [],\n    loading: false,\n    error: null,\n    searchQuery: \"\",\n    page: 1,\n    largeImage: null\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    const prevQuery = prevState.searchQuery;\n    const nextQuery = this.state.searchQuery;\n\n    if (prevQuery !== nextQuery) {\n      this.fetchCards();\n    }\n  }\n\n  fetchCards = () => {\n    const { searchQuery, page } = this.state;\n    this.setState({ loading: true });\n\n    cardsApi\n      .fetchCardsWithQuery(searchQuery, page)\n      .then(cards =>\n        this.setState(prevState => ({\n          cards: [...prevState.cards, ...cards],\n          page: prevState.page + 1\n        }))\n      )\n      .catch(error => this.setState({ error }))\n      .finally(() => this.setState({ loading: false }, scrollTo));\n  };\n\n  handleSearchFormSubmit = query => {\n    this.setState({\n      searchQuery: query,\n      page: 1,\n      cards: []\n    });\n  };\n\n  // webformatURL - ссылка на маленькое изображение для списка карточек\n  // largeImageURL - ссылка на большое изображение для модального окна;\n\n  unsetLargeImageUrl= () => {\n      this.setState({ largeImage: null });\n    };\n\n  onLargeImage = largeImageURL => {\n      this.setState({ largeImage: largeImageURL });\n  };\n\n  render() {\n    const { cards, loading, error, largeImage } = this.state;\n\n    return (\n      <Layout>\n        <SearchBar onSubmit={this.handleSearchFormSubmit} />\n        {error && <p>Whoops, something went wrong: {error.message}</p>}\n        {cards.length > 0 && (\n          <ImageGallery cards={cards} onLargeImage={this.onLargeImage} />\n        )}\n        {loading && (\n          <Loader type=\"Puff\" color=\"#00BFFF\" height={50} width={50} />\n        )}\n        {cards.length > 0 && !loading && <LoadMore onClick={this.fetchCards} />}\n        {largeImage && <Modal src={largeImage} onClose={this.unsetLargeImageUrl} />}\n      </Layout>\n    );\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App';\n\n\nReactDOM.render(<App />, document.getElementById('root'));","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchBar\":\"SearchBar_searchBar__26ml_\",\"searchForm\":\"SearchBar_searchForm__oa9Y3\",\"searchFormButton\":\"SearchBar_searchFormButton__1gG7o\",\"searchFormButtonLabel\":\"SearchBar_searchFormButtonLabel__2gAbN\",\"searchFormInput\":\"SearchBar_searchFormInput__3uvky\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"imageGallery\":\"ImageGallery_imageGallery__29MyW\",\"imageGalleryItem\":\"ImageGallery_imageGalleryItem__11LhI\"};"],"sourceRoot":""}