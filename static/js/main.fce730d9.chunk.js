(this["webpackJsonpgoit-react-hw-03-image-finder"]=this["webpackJsonpgoit-react-hw-03-image-finder"]||[]).push([[0],{10:function(e,a,t){e.exports={overlay:"Modal_overlay__-dBzm",modal:"Modal_modal__2HlXq"}},23:function(e,a,t){e.exports={imageGalleryItemImage:"ImageGalleryItem_imageGalleryItemImage__xIAkj"}},24:function(e,a,t){e.exports={button:"LoadMore_button__2TXla"}},26:function(e,a,t){e.exports=t(71)},53:function(e,a,t){},71:function(e,a,t){"use strict";t.r(a);var r=t(0),n=t.n(r),o=t(21),c=t.n(o),l=t(11),s=t(3),i=t(4),m=t(6),u=t(5),h=t(7),g=t(22),d=t.n(g),f=(t(52),t(53),function(e){var a=e.children;return n.a.createElement("div",{className:"Layout"},a)}),p=t(8),y=t.n(p),v=function(e){function a(){var e,t;Object(s.a)(this,a);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(t=Object(m.a)(this,(e=Object(u.a)(a)).call.apply(e,[this].concat(n)))).state={query:""},t.handleChange=function(e){t.setState({query:e.target.value})},t.handleSubmit=function(e){e.preventDefault(),t.props.onSubmit(t.state.query),t.setState({query:""})},t}return Object(h.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){var e=this.state.query;return n.a.createElement("header",{className:y.a.searchBar},n.a.createElement("form",{className:y.a.searchForm,onSubmit:this.handleSubmit},n.a.createElement("button",{type:"submit",className:y.a.searchFormButton},n.a.createElement("span",{className:y.a.searchFormButtonLabel},"Search")),n.a.createElement("input",{className:y.a.searchFormInput,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",value:e,onChange:this.handleChange})))}}]),a}(r.Component),b=t(23),_=t.n(b),I=function(e){var a=e.webformatURL,t=e.tags,r=e.onLargeImage,o=e.largeImageURL;return n.a.createElement("img",{src:a,alt:t,className:_.a.imageGalleryItemImage,onClick:function(){r(o)}})},E=t(9),S=t.n(E),w=function(e){var a=e.cards,t=e.onLargeImage;return n.a.createElement("ul",{className:S.a.imageGallery},a.map((function(e){var a=e.id,r=e.webformatURL,o=e.tags,c=e.largeImageURL;return n.a.createElement("li",{key:a,className:S.a.imageGalleryItem},n.a.createElement(I,{id:a,webformatURL:r,tags:o,onLargeImage:t,largeImageURL:c}))})))},L=t(10),k=t.n(L),C=function(e){function a(){var e,t;Object(s.a)(this,a);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(t=Object(m.a)(this,(e=Object(u.a)(a)).call.apply(e,[this].concat(o)))).overleyRef=Object(r.createRef)(),t.handleKeyDown=function(e){"Escape"===e.code&&t.props.onClose()},t.handleOverleyClick=function(e){var a=t.overleyRef.current;a&&e.target!==a||t.props.onClose()},t}return Object(h.a)(a,e),Object(i.a)(a,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.handleKeyDown)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.handleKeyDown)}},{key:"render",value:function(){var e=this.props.src;return n.a.createElement("div",{className:k.a.overlay,ref:this.overleyRef,onClick:this.handleOverleyClick},n.a.createElement("div",{className:k.a.modal},n.a.createElement("img",{src:e,alt:"LargePhoto"})))}}]),a}(r.Component),O=t(24),j=t.n(O),F=function(e){var a=e.onClick;return n.a.createElement("button",{type:"button",className:j.a.button,onClick:a},"LoadMore")},B=t(25),G=t.n(B),N=function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return G.a.get("https://pixabay.com/api/?q=".concat(e,"&page=").concat(a,"&key=15396872-c9327f1987334023142d3e162&image_type=photo&orientation=horizontal&per_page=12")).then((function(e){return e.data.hits}))},R=function(){var e={top:document.documentElement.scrollHeight,behavior:"smooth"};window.scrollTo(e)},U=function(e){function a(){var e,t;Object(s.a)(this,a);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(t=Object(m.a)(this,(e=Object(u.a)(a)).call.apply(e,[this].concat(n)))).state={cards:[],loading:!1,error:null,searchQuery:"",page:1,largeImage:null},t.fetchCards=function(){var e=t.state,a=e.searchQuery,r=e.page;t.setState({loading:!0}),N(a,r).then((function(e){return t.setState((function(a){return{cards:[].concat(Object(l.a)(a.cards),Object(l.a)(e)),page:a.page+1}}))})).catch((function(e){return t.setState({error:e})})).finally((function(){return t.setState({loading:!1},R)}))},t.handleSearchFormSubmit=function(e){t.setState({searchQuery:e,page:1,cards:[]})},t.unsetLargeImageUrl=function(){t.setState({largeImage:null})},t.onLargeImage=function(e){t.setState({largeImage:e})},t}return Object(h.a)(a,e),Object(i.a)(a,[{key:"componentDidUpdate",value:function(e,a){a.searchQuery!==this.state.searchQuery&&this.fetchCards()}},{key:"render",value:function(){var e=this.state,a=e.cards,t=e.loading,r=e.error,o=e.largeImage;return n.a.createElement(f,null,n.a.createElement(v,{onSubmit:this.handleSearchFormSubmit}),r&&n.a.createElement("p",null,"Whoops, something went wrong: ",r.message),a.length>0&&n.a.createElement(w,{cards:a,onLargeImage:this.onLargeImage}),t&&n.a.createElement(d.a,{type:"Puff",color:"#00BFFF",height:50,width:50}),a.length>0&&!t&&n.a.createElement(F,{onClick:this.fetchCards}),o&&n.a.createElement(C,{src:o,onClose:this.unsetLargeImageUrl}))}}]),a}(r.Component);c.a.render(n.a.createElement(U,null),document.getElementById("root"))},8:function(e,a,t){e.exports={searchBar:"SearchBar_searchBar__26ml_",searchForm:"SearchBar_searchForm__oa9Y3",searchFormButton:"SearchBar_searchFormButton__1gG7o",searchFormButtonLabel:"SearchBar_searchFormButtonLabel__2gAbN",searchFormInput:"SearchBar_searchFormInput__3uvky"}},9:function(e,a,t){e.exports={imageGallery:"ImageGallery_imageGallery__29MyW",imageGalleryItem:"ImageGallery_imageGalleryItem__11LhI"}}},[[26,1,2]]]);
//# sourceMappingURL=main.fce730d9.chunk.js.map